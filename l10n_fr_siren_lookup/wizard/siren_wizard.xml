<?xml version="1.0" encoding="UTF-8"?>
<openerp>
<data>
    <!-- WIZARD FORM -->
    <record id="siren_wizard_view_form" model="ir.ui.view">
        <field name="name">siren.wizard.form</field>
        <field name="model">siren.wizard</field>
        <field name="arch" type="xml">
            <form string="Lookup Company">
                <group name="main">
                    <field name="partner_id" context="{'show_address': 1}" options="{'always_reload': True}"/>
                    <field name="name" states="select"/>
                    <field name="state" invisible="1" />
                    <button class="oe_highlight" name="get_lines" string="Search" type="object" states="select"/>
                </group>
                <group name="lines" states="select" string="Results">
                    <field name="line_ids" nolabel="1">
                        <tree colors="grey:close_date!=False">
                            <field name="name"/>
                            <field name="legal_type"/>
                            <field name="street" />
                            <field name="zip" />
                            <field name="city" />
                            <field name="siren"/>
                            <field name="nic"/>
                            <field name="close_date"/>
                            <button class="oe_highlight" name="select_line" string="Select" type="object"/>
                        </tree>
                    </field>
                </group>
                <group name="diff" states="confirm" string="Changes">
                    <field name="diff" nolabel="1"/>
                </group>
                <footer>
                    <button name="update_partner" type="object" states="confirm" string="Update Partner" class="oe_highlight"/>
                    <button special="cancel" string="Close"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- COMPANY FORM -->
    <record id="siren_wizard_line_view_form" model="ir.ui.view">
        <field name="name">siren.wizard.line.form</field>
        <field name="model">siren.wizard.line</field>
        <field name="arch" type="xml">
            <form string="Company">
                <h3><field name="name" /></h3>
                <group>
                    <group string="Address">
                        <field name="street" />
                        <field name="zip" />
                        <field name="city" />
                    </group>
                    <group string="Legal Infos">
                        <field name="legal_type" />
                        <field name="siren" />
                        <field name="nic" />
                        <field name="ape" />
                        <field name="ape_label" />
                    </group>
                    <group string="Company Infos">
                        <field name="category" />
                        <field name="creation_date" />
                        <field name="close_date"/>
                        <field name="staff" />
                    </group>
                </group>
                <footer>
                    <button class="oe_hightlight" name="select_line" string="Select" type="object"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="siren_wizard_action" model="ir.actions.act_window">
        <field name="name">Informations base Siren</field>
        <field name="res_model">siren.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

</data>
</openerp>
